<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      fetch(
        'https://www.7timer.info/bin/astro.php?lon=113.2&lat=23.1&ac=0&unit=metric&output=json&tzshift=0'
      )
        .then((response) => {
          console.log(response)
          // json() 함수 Response 인터페이스에 있는데 Response 안에 있는 데이터를 스트림으로 읽어서 promise로 return 한다.
          // body에 있는 문자열을 parsing해서 json으로 반환해준다.
          // 이름은 json으로 되어있지만 호출했을 때 결과는 JSON이 아니다.
          // JSON을 parsing해서 javascript object로 변환해주는 함수다.
          // 서버에서 받은 데이터를 자바스크립트 코드로 변환해서 처리해줄 수 있도록 object로 변환해준다.
          return response.json();
        })//promise까지 다 된다면 data를 받아서 console에 출력
        .then((data) => console.log(data.dataseries));
    </script>
  </body>
</html>
